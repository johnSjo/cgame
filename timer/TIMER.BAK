#include <conio.h>
#include <stdio.h>
#include <time.h>

#define CONTROL_8253      0x43
#define CONTROL_WORD      0x3c

#define CLOCK_COUNTER     0x40

#define DEFAULT_FREQUENCY 0xffff

#define LOW_BYTE(n) (n & 0x00ff)
#define HIGH_BYTE(n) (n>>8) // book is using ((n>>8) & 0x00ff) but I don't see why, if it becomes an issue -> change it back to book version

void Change_Timer(unsigned int new_count) {
  _outp(CONTROL_8253, CONTROL_WORD);

  _outp(CLOCK_COUNTER, LOW_BYTE(new_count));
  _outp(CLOCK_COUNTER, HIGH_BYTE(new_count));
}

void main(){
//  int count = 0xe90b;

  printf("%u\n", sizeof(CLOCKS_PER_SEC));
  printf("%f\n", CLOCKS_PER_SEC);

  while(!kbhit()){}
}